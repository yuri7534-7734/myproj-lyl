<!DOCTYPE html>
<html lang="en">
  <head>
    <title>고차함수 reduce함수</title>
    <script>
      // 고차함수 reduce함수
      //          : 줄이다. 하나의 결과값으로 반환. map() => array 배열로
      let nums = [10, 20, 30, 40, 50];

      //배열의 총합을 반환값으로 받는 함수.
      //acc : accumulator 누산기, 누적되는 값, 최종반환값, 콜백함수
      //acc = sum += i
      //cur : current 현재 아이템 값(현재 회차에 들어온 요소값)
      //acc에 첫번째 요소값이 들어오고, cur에 두번째 요소값이 들어온다.
      let sum = nums.reduce((acc, cur) => {
        console.log(acc, cur);
        return acc + cur;
      });
      console.log("sum", sum);

      sum = nums.reduce((acc, cur) => {
        return acc + cur;
      }, 0); //두번째 매개변수로 acc의 초기값 설정 가능
      console.log("sun", sum);

      //reduce 최대 4개까지 가능
      sum = nums.reduce((acc, cur, index, arr) => {
        console.log(acc, cur, index, arr);
      }, 0);

      //최대값 구하기(reduce사용)
      //값이 하나 나오는 것들은 reduce 사용 // 예 ) 최대값, 총합 ...
      let max = nums.reduce((acc, cur) => {
        return cur > acc ? cur : acc;
      }, 0);
      console.log(max);

      //let max = 최소값;
      //반복문
      //      조건문(나보다 큰가)
      //      max 값 치환으로 풀던 것을 상단 reduce를 사용하여 최대값 가능

      //알파벳 갯수 구하기
      const alphabets = ["a", "a", "c", "c", "c"];
      //결과값 { a:2, c:3 }
      //acc의 초기값을 빈 객체로 설정한다.
      let obj_count = alphabets.reduce((acc, cur) => {
        //첫회 : acc { 초기값 }, cur "a"
        console.log(acc, cur);
        // acc['a']에 값이 있는가? null인가
        if (acc[cur]) {
          //{a:}값이 있음.{a:1}
          acc[cur] += 1;
        } else {
          //{a:}값이 없음. null(empty, undefined)에는 +연산이 안됨.
          acc[cur] = 1;
        }
        return acc;
      }, {});

      //자바스크립트에서 null체크(유효값)하는 방법
      let a = null; //undefined,NaN, null
      if (a) {
        console.log("값있음.");
      } else {
        console.log("값없음.");
      }
      //결과값 { a:2, c:3 } //obj 객체 하나 값 이기 때문에 reduce로 가능
    </script>
  </head>
  <body></body>
</html>
